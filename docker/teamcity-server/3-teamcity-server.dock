FROM mattrix/teamcity-server-depends

ENV TEAM_CITY_INSTALL_DIR /usr/local

# Expose the default TeamCity Server port
EXPOSE 8111

# Ensure the hostname can be resolved and start the TeamCity Server
ENTRYPOINT echo "127.0.0.1 $(hostname)" >> /etc/hosts && $TEAM_CITY_INSTALL_DIR/TeamCity/bin/teamcity-server.sh run
